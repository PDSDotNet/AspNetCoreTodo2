@using Microsoft.AspNetCore.Identity
@model TodoViewModel


@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
	var currentUser = await UserManager.GetUserAsync(User);

	var isAdmin = currentUser != null && await UserManager.IsInRoleAsync(currentUser, Constants.AdministratorRole);

	if (isAdmin)
	{
		<div class="user_list_partial">
			<form asp-action="Index" method="POST">
				<select asp-for="Usuarios" asp-items="ViewBag.ListaUsuarios"></select>
				<button type="submit">Cambiar usuario</button>
			</form>
		</div>
	}

}
